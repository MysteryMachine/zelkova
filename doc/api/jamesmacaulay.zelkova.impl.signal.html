<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><title>jamesmacaulay.zelkova.impl.signal documentation</title></head><body><header><section class="title"><h1><a href="index.html">Zelkova Api Documentation</a></h1></section><small>Version: 0.4.0</small></header><section class="container"><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>alandipert</span></div></div></li><li class="depth-2"><a href="alandipert.kahn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kahn</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>jamesmacaulay</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>async-tools</span></div></div></li><li class="depth-3 branch"><a href="jamesmacaulay.async-tools.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="jamesmacaulay.async-tools.core-test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core-test</span></div></a></li><li class="depth-3"><a href="jamesmacaulay.async-tools.test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>zelkova</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-4 branch current"><a href="jamesmacaulay.zelkova.impl.signal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal</span></div></a></li><li class="depth-4 branch"><a href="jamesmacaulay.zelkova.impl.signal-test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal-test</span></div></a></li><li class="depth-4"><a href="jamesmacaulay.zelkova.impl.time.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>time</span></div></a></li><li class="depth-3 branch"><a href="jamesmacaulay.zelkova.keyboard.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>keyboard</span></div></a></li><li class="depth-3 branch"><a href="jamesmacaulay.zelkova.mouse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mouse</span></div></a></li><li class="depth-3 branch"><a href="jamesmacaulay.zelkova.signal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal</span></div></a></li><li class="depth-3 branch"><a href="jamesmacaulay.zelkova.signal-test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal-test</span></div></a></li><li class="depth-3 branch"><a href="jamesmacaulay.zelkova.time.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>time</span></div></a></li><li class="depth-3"><a href="jamesmacaulay.zelkova.window.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>window</span></div></a></li></ul></div><section class="namespace-docs" id="content"><h2 class="anchor" id="top">jamesmacaulay.zelkova.impl.signal</h2><div class="doc"><div class="markdown"><p>Implementation details for <code>jamesmacaulay.zelkova.signal</code>.</p></div></div><div class="public anchor" id="var--.3ECached"><h3><a href="#var--.3ECached">-&gt;Cached</a></h3><div class="usage"><code>(-&gt;Cached value)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L56">view source</a></div></div><div class="public anchor" id="var--.3EEvent"><h3><a href="#var--.3EEvent">-&gt;Event</a></h3><div class="usage"><code>(-&gt;Event topic value timestamp)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L34">view source</a></div></div><div class="public anchor" id="var--.3EFresh"><h3><a href="#var--.3EFresh">-&gt;Fresh</a></h3><div class="usage"><code>(-&gt;Fresh value)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L48">view source</a></div></div><div class="public anchor" id="var--.3ELiveChannelGraph"><h3><a href="#var--.3ELiveChannelGraph">-&gt;LiveChannelGraph</a></h3><div class="usage"><code>(-&gt;LiveChannelGraph definition events-channel mult-map output-values-mult opts)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L321">view source</a></div></div><div class="public anchor" id="var--.3ESignalDefinition"><h3><a href="#var--.3ESignalDefinition">-&gt;SignalDefinition</a></h3><div class="usage"><code>(-&gt;SignalDefinition init-fn sources relayed-event-topic msg-xform deps event-sources write-port-channel)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L181">view source</a></div></div><div class="public anchor" id="var--.3ESignalDefinitionMetadata"><h3><a href="#var--.3ESignalDefinitionMetadata">-&gt;SignalDefinitionMetadata</a></h3><div class="usage"><code>(-&gt;SignalDefinitionMetadata parents-map kids-map topsort kid-indexes-map inputs-by-topic)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L158">view source</a></div></div><div class="public anchor" id="var-attach-delayed-metadata"><h3><a href="#var-attach-delayed-metadata">attach-delayed-metadata</a></h3><div class="usage"><code>(attach-delayed-metadata sig)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L161">view source</a></div></div><div class="public anchor" id="var-BoxedValueProtocol"><h3><a href="#var-BoxedValueProtocol">BoxedValueProtocol</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-value"><h3><a href="#var-value">value</a></h3><div class="usage"><code>(value boxed)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L20">view source</a></div></div><div class="public anchor" id="var-build-kid-indexes-map"><h3><a href="#var-build-kid-indexes-map">build-kid-indexes-map</a></h3><div class="usage"><code>(build-kid-indexes-map kids-map sorted-sigs)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L151">view source</a></div></div><div class="public anchor" id="var-build-message-mult"><h3><a href="#var-build-message-mult">build-message-mult</a></h3><div class="usage"><code>(build-message-mult mult-map {:keys [init-fn sources msg-xform]} live-graph opts)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L297">view source</a></div></div><div class="public anchor" id="var-build-message-mult-map"><h3><a href="#var-build-message-mult-map">build-message-mult-map</a></h3><div class="usage"><code>(build-message-mult-map sorted-signals events-mult live-graph opts)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L304">view source</a></div></div><div class="public anchor" id="var-build-output-values-mult"><h3><a href="#var-build-output-values-mult">build-output-values-mult</a></h3><div class="usage"><code>(build-output-values-mult mult-map output-sig)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L354">view source</a></div></div><div class="public anchor" id="var-cached"><h3><a href="#var-cached">cached</a></h3><div class="usage"><code>(cached value)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L67">view source</a></div></div><div class="public anchor" id="var-Cached"><h3><a href="#var-Cached">Cached</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L56">view source</a></div></div><div class="public anchor" id="var-calculate-dependency-maps"><h3><a href="#var-calculate-dependency-maps">calculate-dependency-maps</a></h3><div class="usage"><code>(calculate-dependency-maps signal)</code></div><div class="doc"><div class="markdown"><p>Takes a signal and returns a map of two maps: :parents-map is a map of signals to their parents, :kids-map is a map of signals to their children.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L111">view source</a></div></div><div class="public anchor" id="var-delegate-to-channel"><h3><a href="#var-delegate-to-channel">delegate-to-channel</a></h3><div class="usage"><code>(delegate-to-channel f ch &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L175">view source</a></div></div><div class="public anchor" id="var-ensure-sequential"><h3><a href="#var-ensure-sequential">ensure-sequential</a></h3><div class="usage"><code>(ensure-sequential x)</code></div><div class="doc"><div class="markdown"><p>Wraps <code>x</code> in a vector, if necessary, returning an empty vector if <code>x</code> is <code>nil</code>.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L222">view source</a></div></div><div class="public anchor" id="var-Event"><h3><a href="#var-Event">Event</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L34">view source</a></div></div><div class="public anchor" id="var-EventProtocol"><h3><a href="#var-EventProtocol">EventProtocol</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Events come in from &ldquo;the outside world&rdquo; and get transformed into Messages by input signal nodes</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-timestamp"><h3><a href="#var-timestamp">timestamp</a></h3><div class="usage"><code>(timestamp event)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-record-timestamp"><h3><a href="#var-record-timestamp">record-timestamp</a></h3><div class="usage"><code>(record-timestamp event timestamp)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-topic"><h3><a href="#var-topic">topic</a></h3><div class="usage"><code>(topic event)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L23">view source</a></div></div><div class="public anchor" id="var-events-xform"><h3><a href="#var-events-xform">events-xform</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L346">view source</a></div></div><div class="public anchor" id="var-fresh"><h3><a href="#var-fresh">fresh</a></h3><div class="usage"><code>(fresh value)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L63">view source</a></div></div><div class="public anchor" id="var-Fresh"><h3><a href="#var-Fresh">Fresh</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L48">view source</a></div></div><div class="public anchor" id="var-fresh-values"><h3><a href="#var-fresh-values">fresh-values</a></h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A transducer which takes in batches of signal graph messages and pipes out fresh values.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L71">view source</a></div></div><div class="public anchor" id="var-gather-event-sources"><h3><a href="#var-gather-event-sources">gather-event-sources</a></h3><div class="usage"><code>(gather-event-sources sorted-signals)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L312">view source</a></div></div><div class="public anchor" id="var-LiveChannelGraph"><h3><a href="#var-LiveChannelGraph">LiveChannelGraph</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L321">view source</a></div></div><div class="public anchor" id="var-LiveChannelGraphProtocol"><h3><a href="#var-LiveChannelGraphProtocol">LiveChannelGraphProtocol</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-connect-to-world"><h3><a href="#var-connect-to-world">connect-to-world</a></h3><div class="usage"><code>(connect-to-world g)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-signal-mult"><h3><a href="#var-signal-mult">signal-mult</a></h3><div class="usage"><code>(signal-mult g sig)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-init"><h3><a href="#var-init">init</a></h3><div class="usage"><code>(init g)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L316">view source</a></div></div><div class="public anchor" id="var-make-event"><h3><a href="#var-make-event">make-event</a></h3><div class="usage"><code>(make-event topic value)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L43">view source</a></div></div><div class="public anchor" id="var-make-signal"><h3><a href="#var-make-signal">make-signal</a></h3><div class="usage"><code>(make-signal opts)</code></div><div class="doc"><div class="markdown"><p>Takes a map of opts and returns a signal.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L212">view source</a></div></div><div class="public anchor" id="var-map-.3ECached"><h3><a href="#var-map-.3ECached">map-&gt;Cached</a></h3><div class="usage"><code>(map-&gt;Cached G__7269)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L56">view source</a></div></div><div class="public anchor" id="var-map-.3EEvent"><h3><a href="#var-map-.3EEvent">map-&gt;Event</a></h3><div class="usage"><code>(map-&gt;Event G__7255)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L34">view source</a></div></div><div class="public anchor" id="var-map-.3EFresh"><h3><a href="#var-map-.3EFresh">map-&gt;Fresh</a></h3><div class="usage"><code>(map-&gt;Fresh G__7262)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L48">view source</a></div></div><div class="public anchor" id="var-map-.3ELiveChannelGraph"><h3><a href="#var-map-.3ELiveChannelGraph">map-&gt;LiveChannelGraph</a></h3><div class="usage"><code>(map-&gt;LiveChannelGraph G__7387)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L321">view source</a></div></div><div class="public anchor" id="var-map-.3ESignalDefinition"><h3><a href="#var-map-.3ESignalDefinition">map-&gt;SignalDefinition</a></h3><div class="usage"><code>(map-&gt;SignalDefinition G__7291)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L181">view source</a></div></div><div class="public anchor" id="var-map-.3ESignalDefinitionMetadata"><h3><a href="#var-map-.3ESignalDefinitionMetadata">map-&gt;SignalDefinitionMetadata</a></h3><div class="usage"><code>(map-&gt;SignalDefinitionMetadata G__7281)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L158">view source</a></div></div><div class="public anchor" id="var-MessageProtocol"><h3><a href="#var-MessageProtocol">MessageProtocol</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Messages are propagated through the signal graph, and can either be &ldquo;fresh&rdquo; or &ldquo;cached&rdquo;.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-fresh.3F"><h3><a href="#var-fresh.3F">fresh?</a></h3><div class="usage"><code>(fresh? msg)</code></div><div class="doc"><div class="markdown"><p>returns <code>true</code> if the message represents a fresh value, <code>false</code> otherwise</p></div></div></div></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L29">view source</a></div></div><div class="public anchor" id="var-node-graph-zipper"><h3><a href="#var-node-graph-zipper">node-graph-zipper</a></h3><div class="usage"><code>(node-graph-zipper output-node)</code></div><div class="doc"><div class="markdown"><p>Takes a signal and returns a zipper which can be used to traverse the signal graph.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L93">view source</a></div></div><div class="public anchor" id="var-pad"><h3><a href="#var-pad">pad</a></h3><div class="usage"><code>(pad msg-batches)</code></div><div class="doc"><div class="markdown"><p>Takes a collection of message batches, presumably from some corresponding collection of signals. Pads each batch, when necessary, with cached versions of the last message in the batch, such that the returned batches are all the same size.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L230">view source</a></div></div><div class="public anchor" id="var-parents-map-.3Etopsort"><h3><a href="#var-parents-map-.3Etopsort">parents-map-&gt;topsort</a></h3><div class="usage"><code>(parents-map-&gt;topsort pm)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L138">view source</a></div></div><div class="public anchor" id="var-setup-event-relay"><h3><a href="#var-setup-event-relay">setup-event-relay</a></h3><div class="usage"><code>(setup-event-relay opts)</code></div><div class="doc"><div class="markdown"><p>Takes a topic, and returns an input signal which relays matching events as messages to its children</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L200">view source</a></div></div><div class="public anchor" id="var-signal.3F"><h3><a href="#var-signal.3F">signal?</a></h3><div class="usage"><code>(signal? x)</code></div><div class="doc"><div class="markdown"><p>returns <code>true</code> if the argument satisfies <code>SignalProtocol</code>, <code>false</code> otherwise</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L88">view source</a></div></div><div class="public anchor" id="var-SignalDefinition"><h3><a href="#var-SignalDefinition">SignalDefinition</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L181">view source</a></div></div><div class="public anchor" id="var-SignalDefinitionMetadata"><h3><a href="#var-SignalDefinitionMetadata">SignalDefinitionMetadata</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L158">view source</a></div></div><div class="public anchor" id="var-SignalLike"><h3><a href="#var-SignalLike">SignalLike</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-spawn*"><h3><a href="#var-spawn*">spawn*</a></h3><div class="usage"><code>(spawn* x opts)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-pipe-to-atom*"><h3><a href="#var-pipe-to-atom*">pipe-to-atom*</a></h3><div class="usage"><code>(pipe-to-atom* x a ks)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L342">view source</a></div></div><div class="public anchor" id="var-SignalProtocol"><h3><a href="#var-SignalProtocol">SignalProtocol</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-parents-map"><h3><a href="#var-parents-map">parents-map</a></h3><div class="usage"><code>(parents-map s)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-input.3F"><h3><a href="#var-input.3F">input?</a></h3><div class="usage"><code>(input? s)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-kids-map"><h3><a href="#var-kids-map">kids-map</a></h3><div class="usage"><code>(kids-map s)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-signal-deps"><h3><a href="#var-signal-deps">signal-deps</a></h3><div class="usage"><code>(signal-deps s)</code></div><div class="doc"><div class="markdown"><p>returns the set of &ldquo;parent&rdquo; signals on which this signal depends</p></div></div></div><div class="public anchor" id="var-kid-indexes-map"><h3><a href="#var-kid-indexes-map">kid-indexes-map</a></h3><div class="usage"><code>(kid-indexes-map s)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-topsort"><h3><a href="#var-topsort">topsort</a></h3><div class="usage"><code>(topsort s)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-inputs-by-topic"><h3><a href="#var-inputs-by-topic">inputs-by-topic</a></h3><div class="usage"><code>(inputs-by-topic s)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L79">view source</a></div></div><div class="public anchor" id="var-skip-subtree"><h3><a href="#var-skip-subtree">skip-subtree</a></h3><div class="usage"><code>(skip-subtree loc)</code></div><div class="doc"><div class="markdown"><p>Returns a new zipper location that skips the whole subtree at <code>loc</code>.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L101">view source</a></div></div><div class="public anchor" id="var-spawn-message-loop.21"><h3><a href="#var-spawn-message-loop.21">spawn-message-loop!</a></h3><div class="usage"><code>(spawn-message-loop! init msg-xform c-in c-out)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L286">view source</a></div></div><div class="public anchor" id="var-tap-signal"><h3><a href="#var-tap-signal">tap-signal</a></h3><div class="usage"><code>(tap-signal mult-map source)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L274">view source</a></div></div><div class="public anchor" id="var-tap-signals"><h3><a href="#var-tap-signals">tap-signals</a></h3><div class="usage"><code>(tap-signals mult-map sources)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L279">view source</a></div></div><div class="public anchor" id="var-topsort-.3Etopic-map"><h3><a href="#var-topsort-.3Etopic-map">topsort-&gt;topic-map</a></h3><div class="usage"><code>(topsort-&gt;topic-map sorted-sigs)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L142">view source</a></div></div><div class="public anchor" id="var-transpose"><h3><a href="#var-transpose">transpose</a></h3><div class="usage"><code>(transpose msg-batches)</code></div><div class="doc"><div class="markdown"><p>Takes a collection of message batches and returns a sequence of vectors of corresponding messages from each batch.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L243">view source</a></div></div><div class="public anchor" id="var-value-source-.3Eevents-fn"><h3><a href="#var-value-source-.3Eevents-fn">value-source-&gt;events-fn</a></h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Takes some asynchronous <code>source</code> of values, plus an event <code>topic</code>, and returns an event-source function. <code>source</code> may be one of the following:</p>
<ul>
  <li>a function taking a live graph and an options map, and returns a channel of values</li>
  <li>a channel of values</li>
  <li>a mult of some such value channel</li>
</ul><p>The returned event-source function has the same signature as the functions that can be supplied for the <code>source</code> argument, but the values are wrapped as Events.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L383">view source</a></div></div><div class="public anchor" id="var-wrap-msg-xform"><h3><a href="#var-wrap-msg-xform">wrap-msg-xform</a></h3><div class="usage"><code>(wrap-msg-xform msg-xform)</code></div><div class="doc"><div class="markdown"><p>Takes a signal&rsquo;s <code>msg-fn</code> and wraps it to provide various behaviours: * return values are turned into sequences with <code>ensure-sequential</code> * message batches from each signal are padded and transposed, and <code>msg-fn</code> is called  once for each vector of messages in the resulting series, as if each were the result  of a separate event. * when <code>msg-fn</code> returns <code>nil</code> or an empty sequence, the previous value is returned as a  cached value.</p></div></div><div class="src-link"><a href="http://github.com/jamesmacaulay/zelkova/blob/master/src/jamesmacaulay/zelkova/impl/signal.cljc#L249">view source</a></div></div></section></section></body></html>